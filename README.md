# nfqws-keenetic

[![GitHub Release](https://img.shields.io/github/release/Anonym-tsk/nfqws-keenetic?style=flat&color=green)](https://github.com/Anonym-tsk/nfqws-keenetic/releases)
[![GitHub Stars](https://img.shields.io/github/stars/Anonym-tsk/nfqws-keenetic?style=flat)](https://github.com/Anonym-tsk/nfqws-keenetic/stargazers)
[![License](https://img.shields.io/github/license/Anonym-tsk/nfqws-keenetic.svg?style=flat&color=orange)](LICENSE)
[![CloudTips](https://img.shields.io/badge/donate-CloudTips-598bd7.svg?style=flat)](https://pay.cloudtips.ru/p/054d0666)
[![YooMoney](https://img.shields.io/badge/donate-YooMoney-8037fd.svg?style=flat)](https://yoomoney.ru/to/410019180291197)
[![Join Telegram group](https://img.shields.io/badge/Telegram_group-Join-blue.svg?style=social&logo=telegram)](https://t.me/nfqws)
[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/Anonym-tsk/nfqws-keenetic)

–ü–∞–∫–µ—Ç—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `nfqws` –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

> **–ù–∞—É—á–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**
>
> –î–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –≤ –Ω–∞—É—á–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≤ —Ü–µ–ª—è—Ö –æ—Ç–ª–∏—á–Ω—ã—Ö –æ—Ç –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è –º–æ–∂–µ—Ç —è–≤–ª—è—Ç—å—Å—è –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–ø—Ä–∞–≤–æ–º–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞.

> **–í—ã –ø–æ–ª—å–∑—É–µ—Ç–µ—Å—å —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫!**
>
> –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ø–æ—Ä—á—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º –∏ –ø–æ—Ç–µ–Ω—Ü–∏–µ–π. –ü–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è, —á—Ç–æ –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ –≤—ã –¥–µ–ª–∞–µ—Ç–µ.

---

## üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –¥–ª—è —Ä–æ—É—Ç–µ—Ä–æ–≤ **Keenetic/Netcraze** —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º entware. –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –Ω–∞ –ø—Ä–æ—à–∏–≤–∫–∞—Ö **Padavan** –∏ **OpenWRT**.

–°–ø–∏—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ [–æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–µ–º–µ](https://github.com/Anonym-tsk/nfqws-keenetic/discussions/1).
<details>
<summary>–°–æ–±—Ä–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π:</summary>

### Asus
- ROG Rapture GT-AX6000
- RT-AC68U
- RT-AC86U
- RT-AX86U
- RT-AX88U
- RT-N16
- RT-N56U

### Beeline Smart Box
- GIGA
- Turbo

### Cudy
- TR3000

### D-Link
- DIR-620/D/F1A

### GL.iNet
- Flint 2 (GL-MT6000)

### Keenetic (Zyxel)
- **II / III —Å–µ—Ä–∏—è:** Keenetic II, III, Extra, Extra II, Giga II / III, Omni, Omni II, Ultra, Ultra II, Viva
- **DSL —Å–µ—Ä–∏—è:** Keenetic DSL, LTE, VOX
- **–ú–æ–¥–µ–ª–∏ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º:**
  - KN-1010, KN-1011, KN-1012 (Giga)
  - KN-1212 (4G)
  - KN-1410 (Omni)
  - KN-1710, KN-1711, KN-1713 (Extra)
  - KN-1810, KN-1811 (Ultra)
  - KN-1910, KN-1912, KN-1913 (Viva)
  - KN-2010, KN-2012 (Launcher DSL)
  - KN-2110, KN-2112 (Skipper)
  - KN-2211 (Runner 4G)
  - KN-2310, KN-2311 (Hero 4G+)
  - KN-2410 (Giga SE)
  - KN-2510 (Ultra SE)
  - KN-2610 (Giant)
  - KN-2710 (Peak)
  - KN-2910 (Skipper 4G)
  - KN-3610, KN-3810, KN-3811, KN-3812 (Hopper)

### MikroTik
- RB951G-2HnD
- RB952Ui-5ac2nD

### TP-Link
- Archer C20
- Archer C6U
- WDR3500

### Xiaomi
- Mi Router 3G
- Mi Router 4
- Mi Router 4A
- Mi Router 4C
- Mi Router Mini
- Mi Router Pro
- Router AX3000T
- Router Redmi AC2100
</details>
> üí° –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –æ–ø—ã—Ç–æ–º –º–æ–∂–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ [Discussions](https://github.com/Anonym-tsk/nfqws-keenetic/discussions) –∏–ª–∏ –≤ [—á–∞—Ç–µ](https://t.me/nfqws).

---

## üìñ –ß—Ç–æ —ç—Ç–æ?

**`nfqws`** ‚Äî —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–∞–∫–µ—Ç–æ–≤. –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—á–µ—Ä–µ–¥–∏ **NFQUEUE** –∏ raw —Å–æ–∫–µ—Ç—ã.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –Ω–∞ [—Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–≤—Ç–æ—Ä–æ–≤](https://github.com/bol-van/zapret) (–∏—â–∏—Ç–µ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É `nfqws`).

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Keenetic/Netcraze

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

1. **–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ–ª–Ω–æ—Å—Ç—å—é** –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã!

2. **–û—Ç–∫–ª—é—á–∏—Ç–µ DNS –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:**
   - –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Ä–æ—É—Ç–µ—Ä–∞ –æ—Ç–º–µ—Ç—å—Ç–µ –ø—É–Ω–∫—Ç—ã ["–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å DNS –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"](https://help.keenetic.com/hc/ru/articles/360008609399) –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö IPv4 –∏ IPv6

3. **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å DoT/DoH** [–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DoT/DoH](https://help.keenetic.com/hc/ru/articles/360007687159).

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ entware** [–Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å —Ä–æ—É—Ç–µ—Ä–∞](https://help.keenetic.com/hc/ru/articles/360021888880) –∏–ª–∏ [–Ω–∞ USB-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å](https://help.keenetic.com/hc/ru/articles/360021214160).

5. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã** —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
   - **–ü—Ä–æ—Ç–æ–∫–æ–ª IPv6** (Network functions > IPv6)
   - **–ú–æ–¥—É–ª–∏ —è–¥—Ä–∞ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã Netfilter** (OPKG > Kernel modules for Netfilter)
   
   > ‚ö†Ô∏è –í—Ç–æ—Ä–æ–π –ø–∞–∫–µ—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–≤–æ–≥–æ!

6. **–í —Ä–∞–∑–¥–µ–ª–µ "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ñ–∏–ª—å—Ç—Ä—ã"** –æ—Ç–∫–ª—é—á–∏—Ç—å –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã:
   - NextDNS
   - SkyDNS
   - –Ø–Ω–¥–µ–∫—Å DNS
   - –∏ –¥—Ä—É–≥–∏–µ

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ entware

–í—Å–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–≤ —Å—Ä–µ–¥–µ entware**, –∞ –Ω–µ –≤ CLI —Ä–æ—É—Ç–µ—Ä–∞. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:

#### –ß–µ—Ä–µ–∑ Telnet
```bash
telnet 192.168.1.1
```
–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
exec sh
```

#### –ß–µ—Ä–µ–∑ SSH (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
ssh root@192.168.1.1 -p 222
```

–£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- –õ–æ–≥–∏–Ω: `root`
- –ü–∞—Ä–æ–ª—å: `keenetic`
- –ü–æ—Ä—Ç: `222` –∏–ª–∏ `22`

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ù–∞ Keenetic/Netcraze –∏ —Å–∏—Å—Ç–µ–º—ã —Å Entware

#### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
opkg update
opkg install ca-certificates wget-ssl
opkg remove wget-nossl
```

#### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤–∞—à–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:

**–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–≤—Å–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã):**
```bash
mkdir -p /opt/etc/opkg
echo "src/gz nfqws-keenetic https://anonym-tsk.github.io/nfqws-keenetic/all" > /opt/etc/opkg/nfqws-keenetic.conf
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: `mipsel`, `mips`, `aarch64`, `armv7`, `x86`, `x86_64`, `lexra`

**–ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**

| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –ú–æ–¥–µ–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ | –ö–æ–º–∞–Ω–¥–∞ |
|-------------|-----------------|---------|
| **mips-3.4** | Keenetic Giga SE (KN-2410), Ultra SE (KN-2510), DSL (KN-2010), Launcher DSL (KN-2012), Duo (KN-2110), Skipper DSL (KN-2112), Hopper DSL (KN-3610); Zyxel Keenetic DSL, LTE, VOX | `echo "src/gz nfqws-keenetic https://anonym-tsk.github.io/nfqws-keenetic/mips" > /opt/etc/opkg/nfqws-keenetic.conf` |
| **mipsel-3.4** | Keenetic 4G (KN-1212), Omni (KN-1410), Extra (KN-1710/1711/1713), Giga (KN-1010/1011), Ultra (KN-1810), Viva (KN-1910/1912/1913), Hero 4G (KN-2310/2311), Giant (KN-2610), Skipper 4G (KN-2910), Hopper (KN-3810); Zyxel Keenetic II/III, Extra, Extra II, Giga II/III, Omni, Omni II, Viva, Ultra, Ultra II | `echo "src/gz nfqws-keenetic https://anonym-tsk.github.io/nfqws-keenetic/mipsel" > /opt/etc/opkg/nfqws-keenetic.conf` |
| **aarch64-3.10** | Keenetic Peak (KN-2710), Ultra (KN-1811), Hopper (KN-3811), Hopper SE (KN-3812), Giga (KN-1012) | `echo "src/gz nfqws-keenetic https://anonym-tsk.github.io/nfqws-keenetic/aarch64" > /opt/etc/opkg/nfqws-keenetic.conf` |

#### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
opkg update
opkg install nfqws-keenetic
```

#### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
opkg install nfqws-keenetic-web
```

> üìå –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://<router_ip>:90` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `http://192.168.1.1:90`)
>
> –î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è entware (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `root` / `keenetic`)

##### –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –ø–∞–º—è—Ç–∏ PHP

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é PHP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ 8–ú–ë –ø–∞–º—è—Ç–∏, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ —Ñ–∞–π–ª–æ–≤.

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `/opt/etc/php.ini`:
```ini
memory_limit = 32M
post_max_size = 32M
upload_max_filesize = 16M
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
opkg update
opkg upgrade nfqws-keenetic
opkg upgrade nfqws-keenetic-web
```

#### –£–¥–∞–ª–µ–Ω–∏–µ

```bash
opkg remove --autoremove nfqws-keenetic-web nfqws-keenetic
```

#### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏

```bash
opkg info nfqws-keenetic
opkg info nfqws-keenetic-web
```

---

### –ù–∞ OpenWRT

#### –í–µ—Ä—Å–∏—è 24.10 –∏ —Ä–∞–Ω–µ–µ (opkg)

##### –®–∞–≥ 1: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
opkg update
opkg install ca-certificates wget-ssl
opkg remove wget-nossl
```

##### –®–∞–≥ 2: –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
wget -O "/tmp/nfqws-keenetic.pub" "https://anonym-tsk.github.io/nfqws-keenetic/openwrt/nfqws-keenetic.pub"
opkg-key add /tmp/nfqws-keenetic.pub
```

##### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
echo "src/gz nfqws-keenetic https://anonym-tsk.github.io/nfqws-keenetic/openwrt" > /etc/opkg/nfqws-keenetic.conf
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: `mipsel`, `mips`, `aarch64`, `armv7`, `x86`, `x86_64`, `lexra`

> üí° –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤, [—Å–æ–∑–¥–∞–π—Ç–µ Feature Request](https://github.com/Anonym-tsk/nfqws-keenetic/issues/new?template=feature_request.md&title=%5BFeature+request%5D+)

##### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
opkg update
opkg install nfqws-keenetic
```

##### –®–∞–≥ 5: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
opkg install nfqws-keenetic-web
```

#### –í–µ—Ä—Å–∏–∏ 25.xx –∏ Snapshot (apk)

##### –®–∞–≥ 1: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
apk --update-cache add ca-certificates wget-ssl
apk del wget-nossl
```

##### –®–∞–≥ 2: –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
wget -O "/etc/apk/keys/nfqws-keenetic.pem" "https://anonym-tsk.github.io/nfqws-keenetic/openwrt/nfqws-keenetic.pem"
```

##### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
echo "https://anonym-tsk.github.io/nfqws-keenetic/openwrt/packages.adb" > /etc/apk/repositories.d/nfqws-keenetic.list
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: `mipsel`, `mips`, `aarch64`, `armv7`, `x86`, `x86_64`, `lexra`

> üí° –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤, [—Å–æ–∑–¥–∞–π—Ç–µ Feature Request](https://github.com/Anonym-tsk/nfqws-keenetic/issues/new?template=feature_request.md&title=%5BFeature+request%5D+)

##### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
apk --update-cache add nfqws-keenetic
```

##### –®–∞–≥ 5: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
apk add nfqws-keenetic-web
```

##### ‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è OpenWRT

–í—Å–µ –ø—É—Ç–∏ —Ñ–∞–π–ª–æ–≤, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `/opt`, –Ω–∞ OpenWRT –±—É–¥—É—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –∫–æ—Ä–Ω—è `/`.

–ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω—Ñ–∏–≥ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ `/etc/nfqws/nfqws.conf`

–î–ª—è –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
service nfqws-keenetic {start|stop|restart|reload|status}
```

---

## üõ†Ô∏è –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ Keenetic/Netcraze

–ù–∞ Keenetic/Netcraze –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ **NFQWS** –≤ —Ä–∞–∑–¥–µ–ª–µ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π > –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç**.

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ `nfqws-keenetic` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏–∑ —ç—Ç–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏.

> ‚ö†Ô∏è –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ —Å–æ–∑–¥–∞–Ω–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–µ.

### –†–µ–∂–∏–º—ã –ø–æ–ª–∏—Ç–∏–∫–∏

**–†–µ–∂–∏–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è** ‚Äî –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä `POLICY_EXCLUDE=1`, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –∫—Ä–æ–º–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤ –ø–æ–ª–∏—Ç–∏–∫—É `NFQWS`.

**–ò–º—è –ø–æ–ª–∏—Ç–∏–∫–∏** –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `POLICY_NAME` –≤ –∫–æ–Ω—Ñ–∏–≥–µ.

–ï—Å–ª–∏ –ø–æ–ª–∏—Ç–∏–∫–∞ —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫.

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–§–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –ø–æ –ø—É—Ç–∏: `/opt/etc/nfqws/nfqws.conf`

–î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä `vi` –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `nano`.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```bash
# –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
# –û–±—ã—á–Ω–æ: eth3 –∏–ª–∏ eth2.2 (–ø—Ä–æ–≤–æ–¥–Ω–æ–µ), ppp0 (PPPoE)
# –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
# –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤: ISP_INTERFACE="eth3 nwg1"
# –ü–æ–∏—Å–∫: –∫–æ–º–∞–Ω–¥—ã route –∏–ª–∏ ifconfig
ISP_INTERFACE="..."

# –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTPS –∏ QUIC —Ç—Ä–∞—Ñ–∏–∫–∞
NFQWS_ARGS="..."
NFQWS_ARGS_QUIC="..."

# –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ UDP —Ç—Ä–∞—Ñ–∏–∫–∞ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç NFQWS_EXTRA_ARGS)
NFQWS_ARGS_UDP="..."

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: auto, list, all
NFQWS_EXTRA_ARGS="..."

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ª–∏ IPv6 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (0 –∏–ª–∏ 1)
IPV6_ENABLED=0|1

# TCP –ø–æ—Ä—Ç—ã –¥–ª—è iptables
# –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è TCP
# –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP –¥–æ–±–∞–≤—å—Ç–µ: TCP_PORTS=443,80
TCP_PORTS=443(,80)

# UDP –ø–æ—Ä—Ç—ã –¥–ª—è iptables
# –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è UDP
# –£–¥–∞–ª–∏—Ç–µ 443 –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ QUIC
UDP_PORTS=443(,50000:50099)

# –ü–æ–ª–∏—Ç–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è Keenetic/Netcraze)
POLICY_NAME="nfqws"

# –†–µ–∂–∏–º –ø–æ–ª–∏—Ç–∏–∫–∏
# 0 - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ –ø–æ–ª–∏—Ç–∏–∫–µ
# 1 - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö, –∫—Ä–æ–º–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ –ø–æ–ª–∏—Ç–∏–∫–µ
POLICY_EXCLUDE=0|1

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Syslog (0 –∏–ª–∏ 1)
LOG_LEVEL=0|1
```

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã NFQWS_EXTRA_ARGS

–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º –¥–æ–º–µ–Ω–∞–º –∏–∑ `user.list` –∏ `auto.list`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –¥–æ–º–µ–Ω–æ–≤ –∏–∑ `exclude.list`.

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| **list** | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–æ–º–µ–Ω—ã –∏–∑ `user.list` |
| **auto** | –ö—Ä–æ–º–µ `user.list`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–æ–º–µ–Ω—ã –∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ (3 —Ä–∞–∑–∞ –∑–∞ 60 —Å–µ–∫ = –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–æ–∫) |
| **all** | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫, –∫—Ä–æ–º–µ –¥–æ–º–µ–Ω–æ–≤ –∏–∑ `exclude.list` |

---

## üìÅ –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –∫–æ–º–∞–Ω–¥—ã

| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—É—Ç—å |
|-----------|------|
| –ö–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª | `/opt/etc/nfqws/nfqws.conf` |
| –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ | `/opt/etc/init.d/S51nfqws {start\|stop\|restart\|reload\|status}` |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–æ–º–µ–Ω—ã | `/opt/etc/nfqws/user.list` (–æ–¥–∏–Ω –Ω–∞ —Å—Ç—Ä–æ–∫—É, –ø–æ–¥–¥–æ–º–µ–Ω—ã —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã | `/opt/etc/nfqws/auto.list` |
| –õ–æ–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ | `/opt/var/log/nfqws.log` |
| –î–æ–º–µ–Ω—ã-–∏—Å–∫–ª—é—á–µ–Ω–∏—è | `/opt/etc/nfqws/exclude.list` (–æ–¥–∏–Ω –Ω–∞ —Å—Ç—Ä–æ–∫—É) |

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª iptables

```bash
iptables-save | grep "queue-num 200"
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ø–æ—Ö–æ–∂–∏–µ —Å—Ç—Ä–æ–∫–∏:
```
-A POSTROUTING -o eth3 -p tcp -m tcp --dport 443 -m connbytes --connbytes 1:6 --connbytes-mode packets --connbytes-dir original -m mark ! --mark 0x40000000/0x40000000 -j NFQUEUE --queue-num 200 --queue-bypass
```

---

## üîç –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ù–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (Flow Offloading, Hardware NAT)**
   - iptables –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º offloading
   - –û—Ç–∫–ª—é—á–∏—Ç–µ –µ–≥–æ –∏–ª–∏ –≤—ã–±–æ—Ä–æ—á–Ω–æ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –∏–º

2. **–ù–∞ Keenetic/Netcraze**
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–∫–ª—é—á–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å [—Å–µ—Ç–µ–≤–æ–π —É—Å–∫–æ—Ä–∏—Ç–µ–ª—å](https://help.keenetic.com/hc/ru/articles/214470905)

3. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞**
   - –û—Ç–∫–ª—é—á–∏—Ç–µ —Å–ª—É–∂–±—É IntelliQOS

4. **IPv6**
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å IPv6 –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

5. **QUIC**
   - –ó–∞–ø—Ä–µ—Ç–∏—Ç–µ –≤–µ—Å—å UDP —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –ø–æ—Ä—Ç 443:
     - –ú–µ–∂—Å–µ—Ç–µ–≤–æ–π —ç–∫—Ä–∞–Ω ‚Üí –î–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å ‚Üí –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ
     - –í–∫–ª—é—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ: ‚úì
     - –û–ø–∏—Å–∞–Ω–∏–µ: `–ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å QUIC`
     - –î–µ–π—Å—Ç–≤–∏–µ: `–ó–∞–ø—Ä–µ—Ç–∏—Ç—å`
     - –ü—Ä–æ—Ç–æ–∫–æ–ª: `UDP`
     - –ù–æ–º–µ—Ä –ø–æ—Ä—Ç–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è: `–†–∞–≤–µ–Ω 443`

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

#### `iptables: No chain/target/match by that name`
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞–∫–µ—Ç "–ú–æ–¥—É–ª–∏ —è–¥—Ä–∞ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã Netfilter"

**–†–µ—à–µ–Ω–∏–µ:** –ù–∞ Keenetic/Netcraze –ø–∞–∫–µ—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ "–ü—Ä–æ—Ç–æ–∫–æ–ª IPv6"

---

#### `can't initialize ip6tables table` –∏/–∏–ª–∏ `Perhaps ip6tables or your kernel needs to be upgraded`
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞–∫–µ—Ç "–ü—Ä–æ—Ç–æ–∫–æ–ª IPv6" –∏–ª–∏ —Å—Ç–∞—Ä–∞—è –ø—Ä–æ—à–∏–≤–∫–∞ 2.xx

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ "–ü—Ä–æ—Ç–æ–∫–æ–ª IPv6" –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ IPv6 –≤ –∫–æ–Ω—Ñ–∏–≥–µ NFQWS

---

#### `readlink: not found`, `dirname: not found`
**–ü—Ä–∏—á–∏–Ω–∞:** –û–±—ã—á–Ω–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ –Ω–∞ Keenetic

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ busybox:
```bash
opkg install busybox
```

–ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:
```bash
opkg install coreutils-readlink coreutils-dirname
```

---

#### `Failed to download the package list from https://anonym-tsk.github.io/nfqws-keenetic/all/Packages.gz`
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞–∫–µ—Ç `wget-ssl`

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```bash
opkg install --force-reinstall wget-ssl
```

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `nfqws` —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∏–∑: `$NFQWS_ARGS $NFQWS_EXTRA_ARGS`

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Ä–∞–∑–¥–µ–ª—è–π—Ç–µ –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `--new`.

**–ü—Ä–∏–º–µ—Ä:** –ø—Ä–∏–º–µ–Ω–∏—Ç –æ–ø—Ü–∏—é `--dpi-desync=fake,split2` –¥–ª—è HTTPS –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –¥–æ–º–µ–Ω–∞–º –∏–∑ `custom.list`, –∞ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--dpi-desync=disorder2 --dpi-desync-fooling=md5sig,badseq`:

```bash
NFQWS_ARGS="--filter-tcp=443 --dpi-desync=fake,split2 --hostlist=custom.list --new --dpi-desync=disorder2 --dpi-desync-fooling=md5sig,badseq"
```

---

## üîß –ü–æ–¥–±–æ—Ä —Ä–∞–±–æ—á–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ NFQWS

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
opkg install curl
/bin/sh -c "$(curl -fsSL https://github.com/Anonym-tsk/nfqws-keenetic/raw/master/common/strategy.sh)"
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –Ω–∞ [–∏—Å—Ö–æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ](https://github.com/bol-van/zapret?tab=readme-ov-file#%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%B2%D0%B0%D0%B9%D0%B4%D0%B5%D1%80%D0%B0)

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

–í–ø–∏—Å–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ –∫–æ–Ω—Ñ–∏–≥–µ `/opt/etc/nfqws/nfqws.conf` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä `NFQWS_ARGS`

---

## üí∞ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ù—Ä–∞–≤–∏—Ç—Å—è –ø—Ä–æ–µ–∫—Ç? –ü–æ–¥–¥–µ—Ä–∂–∏ –∞–≤—Ç–æ—Ä–∞!

- [–∑–¥–µ—Å—å](https://yoomoney.ru/to/410019180291197) –∏–ª–∏ [—Ç—É—Ç](https://pay.cloudtips.ru/p/054d0666) ‚Äî –∫—É–ø–∏ –µ–º—É –Ω–µ–º–Ω–æ–≥–æ üçª –∏–ª–∏ ‚òï!

---
